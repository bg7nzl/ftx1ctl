**FTX-1 コンソール (ftx1gui)**

***

# FTX-1 コンソール ユーザーマニュアル

このマニュアルは、FTX-1 トランシーバーを制御するための `ftx1gui` ソフトウェアの使用に関する包括的なガイドです。接続設定、周波数管理、送信制御、および高度なオーディオ処理機能について説明します。

## 1. 接続設定 (トップパネル)

アプリケーションの上部は、無線機および外部ソフトウェアとの通信を確立するために使用されます。

### CAT 制御 (Computer Aided Transceiver)
*   **CAT ポート (CAT Port)**: 無線機にコマンド（周波数、モードなど）を送信するために使用する COM ポートを選択します。
    *   *デフォルトのロジック*: ソフトウェアは利用可能なポートを自動的にスキャンします。"**Enhanced COM Port**" という名前のポート（Yaesu 無線機で使用される Silicon Labs ドライバーで一般的）を優先します。見つからない場合は、最初の利用可能なポートがデフォルトになります。
*   **ボーレート (Baud)**: 通信速度を設定します。
    *   *デフォルト*: **38400** bps。これが無線機のメニュー設定 (CAT RATE) と一致していることを確認してください。

### PTT 制御 (Push-To-Talk)
*   **PTT ポート (PTT Port)**: RTS (Request to Send) 信号を介して送信をトリガーするために使用する COM ポートを選択します。
    *   *デフォルトのロジック*: "**Standard COM Port**" という名前のポートを優先します。2つのポート（Enhanced と Standard）がある場合、通常 Standard ポートが PTT/CW キーイングに使用されます。
*   **ボーレート (Baud)**: PTT ポートの速度を設定します（通常、CAT ほど重要ではありません）。
    *   *デフォルト*: **38400** bps。

### 接続ボタン
*   **接続 (Connect)**: COM ポートを開き、無線機のポーリングを開始します。
*   **切断 (Disconnect)**: 接続を閉じ、ポーリングを停止します。
*   **全量読取 (Full Read)**: 無線機から UI へのすべての設定の完全な同期を強制します。
    *   *注*: ソフトウェアはパラメータ設定後に自動的に全量読み取りをスケジュールしますが、UI が同期していない場合にこのボタンが役立ちます。

### Rigctl サーバー (ネットワーク制御)
*   **rigctl TCP ポート**: 内蔵の Hamlib 互換 TCP サーバーのポート番号。
    *   *デフォルト*: **4532**。
    *   *使用法*: サードパーティ製ソフトウェア（WSJT-X、N1MM、Log4OM など）が、`localhost:4532` に接続し "Hamlib NET rigctl" モデル（モデル ID 2）を使用することで、このアプリケーションを*介して*無線機を制御できるようにします。

---

## 2. 周波数とモード (左パネル)

### 周波数表示
*   **表示**: 現在の周波数を Hz で表示します。

*  **桁ごとのチューニング**: 
    1. 変更したい特定の桁にマウスカーソルを合わせます。
    2. **マウスホイール**: 上にスクロールして値を増やし、下にスクロールして減らします。
    3. **矢印ボタン**: 各桁の上下にある小さな**上/下矢印**をクリックして、ステップごとに調整します。

### モード選択
ボタンのグリッドを使用して、動作モードを変更できます。
*   **アクティブモード**: 現在選択されているモードは**緑色**で強調表示されます。
*   **サポートされているモード**:
    *   **1行目**: USB, DATA-U, CW-U, RTTY-U, AM, FM, FM-N, C4FM-DN, PSK
    *   **2行目**: LSB, DATA-L, CW-L, RTTY-L, AM-N, DATA-FM, DATA-FM-N, C4FM-VW

---

## 3. 送信制御 (中央パネル)

### PTT (Push-To-Talk)
*   **送信ボタン (Transmit)**: 無線機の送信状態を切り替えます。
    *   **白**: 受信 (RX) 状態。
    *   **赤**: 送信 (TX) 状態。
    *   *メカニズム*: 選択された **PTT ポート** の RTS 信号を切り替えます。

### 出力制御
*   **出力 (W)**: RF 出力電力を調整するスライダー。
*   **値表示**: 目標出力をワット単位で表示します。
*   **デバイスタイプ表示**: 検出された無線機の出力クラスを表示します（例: "FIELD", "SPA1"）。
    *   **FIELD**: 範囲 1–10 W。
    *   **SPA1**: 範囲 5–100 W。
    *   **Standard**: 範囲 1–100 W。

---

## 4. 受信前処理 (中央パネル)

このセクションでは、受信機のゲインと自動ゲイン制御設定を制御します。

### AGC (自動ゲイン制御)
信号強度の変動を無線機がどのように処理するかを制御します。
*   **オプション**: OFF, FAST, MID, SLOW, AUTO。
*   **表示ロジック**:
    *   **AUTO** を選択すると、無線機は現在のモードに基づいて最適な速度を決定します（例: CW はデフォルトで FAST、SSB は SLOW）。
    *   **視覚的インジケーター**: 無線機が AUTO モードで、内部的に "MID" を選択している場合、`AUTO` ボタンと `MID` ボタンの**両方**が強調表示されます。これにより、自動モードであること*および*現在の有効な速度がわかります。

### プリアンプ (Preamp)
異なるバンドの受信機フロントエンドゲインを調整します。
*   **HF/50 MHz**:
    *   **IPO**: インターセプトポイント最適化（プリアンプ OFF）。強信号環境に最適です。
    *   **AMP1**: 低ゲインプリアンプ。
    *   **AMP2**: 高ゲインプリアンプ。
*   **VHF / UHF**:
    *   **OFF / ON**: これらのバンドのプリアンプを切り替えます。

---

## 5. 手動ノッチ制御 (右/下パネル)

この高度なパネルでは、オーディオを視覚化し、干渉音を手動でノッチアウト（除去）できます。

### 制御
*   **ノッチ有効 (Enable Notch)**: 無線機の手動ノッチフィルターを有効にするチェックボックス。
*   **周波数 (Hz)**:
    *   **入力ボックス**: 特定の周波数 (10–3200 Hz) を入力し、**設定 (Set)** をクリックします。
    *   **現在 (Current)**: 無線機で現在アクティブな値を表示します。
    *   **読み取り (Read)**: 無線機から表示値を更新します。

### オーディオウォーターフォール / スペクトラム
*   **入力デバイス (Input Device)**: ウォーターフォール表示のオーディオソースを選択します。
    *   *デフォルトのロジック*: ソフトウェアはオーディオデバイスをスキャンし、名前に "**USB Audio Device**" が含まれるもの（内蔵無線サウンドカードに一般的）を優先します。
*   **ウォーターフォール表示**: 受信オーディオのリアルタイムスペクトログラムを表示します。
    *   **X軸**: 時間（履歴のスクロール）。
    *   **Y軸**: オーディオ周波数 (0–4000 Hz)。
*   **インタラクション**:
    *   **クリックしてノッチ設定**: ウォーターフォール上の任意の場所をクリックすると、手動ノッチ周波数がそのピッチに自動的に設定されます。
    *   **視覚的フィードバック**: アクティブなノッチフィルターの位置と幅（約 100 Hz）を示す2本の赤い水平線がウォーターフォールに表示されます。

---

## 6. メーター (下部パネル)

一連のバーメーターは、無線機からのリアルタイムテレメトリを提供します。各メーターには、公称値または制限値を示す赤い「しきい値」ラインがあります。

| メーター | 説明 | 単位 | しきい値 (赤線) |
| :--- | :--- | :--- | :--- |
| **S_MAIN** | 信号強度 | S-Units / dB | S9 |
| **COMP** | 音声圧縮レベル | dB | 15 dB |
| **ALC** | 自動レベル制御電圧 | % | 100% |
| **PO** | 出力電力 | Watts | 10 W (可変) |
| **SWR** | 定在波比 | 比率 | 3.0 |
| **IDD** | ドレイン電流 | Amps | 2 A |
| **VDD** | 電源電圧 | Volts | 13.8 V |

*   **更新レート**: メーターは、CAT バス トラフィックを最小限に抑えるために、約1秒に1回（デフォルト）更新されます。

---

## 7. トラブルシューティング

*   **"Need CAT and PTT ports" (CAT ポートと PTT ポートが必要です)**: 両方のフィールドで COM ポートを選択する必要があります。ケーブルが1本しかない場合は、両方に同じポートを選択するか、ドライバーが2つの仮想ポート（Standard と Enhanced）を作成しているか確認してください。
*   **メーターが動かない**: 接続がアクティブであることを確認してください（ステータスバーに "Connected" と表示）。他のプログラムが COM ポートを占有していないか確認してください。
*   **ウォーターフォールが真っ黒**: 正しい **入力デバイス** が選択されていることを確認してください。無線機の USB 接続に関連付けられた "Line In" または "Microphone" デバイスと一致する必要があります。
*   **Rigctl が動作しない**: 他のソフトウェアがポート 4532 を使用していないことを確認してください。UI でポートを変更した場合は、外部ロガー/ソフトウェアも一致するように更新してください。


## 7. ハードウェアの制限とキャリブレーション

### SPA-1 / Optima ユーザーへの重要な注意
開発者は現在 **FTX-1 Field** バージョン（スタンドアロン 10W）を使用しているため、テレメトリシステムは低電力ポータブル運用向けに特別に調整されています。

* **PO (出力電力) 精度**: ワット数の目盛りとメーターの振れは、10W 内部 PA 用に調整されています。100W ユーザーの場合、メーターが早めに上限に達したり、誤ったスケーリングを示したりする可能性があります。
* **IDD (ドレイン電流) 精度**: IDD メーターは現在、Field ユニットの一般的な消費電流（最大約 2A）に合わせて調整されています。100W 運用では大幅に高い電流が必要ですが、この UI ではまだ正確にマッピングされていません。

---

## 8. SPA-1 (100W) キャリブレーションに関するメモ

現在、このソフトウェアは **FTX-1 Field (10W スタンドアロン)** バージョンを使用して開発およびテストされています。私の手元には **Optima SPA-1 (100W)** アンプがないため、**出力 (PO)** および **電流 (IDD)** メーターは、高出力運用向けにまだ完全に調整されていません。

**皆様のご協力をお願いします！** Optima SPA-1 セットアップを使用している場合、ソフトウェアは不正確な出力と電流の値を表示する可能性があります。コミュニティ全体のためにこれを改善するのを手伝っていただける場合は、さまざまな出力レベルでの PO と IDD の読み取り値を示す写真または短い動画を共有していただければ幸いです。

あなたのデータは、すべての FTX-1 所有者にとって完璧に動作するように、これらのメーターの背後にある計算を微調整するのに役立ちます。プロジェクトリポジトリからお気軽にご連絡ください！

---
