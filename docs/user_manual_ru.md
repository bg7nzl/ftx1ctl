**FTX-1 Console (ftx1gui)**

***

# Руководство пользователя консоли FTX-1

Это руководство предоставляет исчерпывающую информацию по использованию программного обеспечения `ftx1gui` для управления трансивером FTX-1. Оно охватывает настройку подключения, управление частотой, управление передачей и расширенные функции обработки звука.

## 1. Настройка подключения (Верхняя панель)

Верхняя часть приложения предназначена для установления связи с радиостанцией и внешним программным обеспечением.

### Управление CAT (Computer Aided Transceiver)
*   **CAT порт (CAT Port)**: Выбирает COM-порт, используемый для отправки команд (частота, режим и т.д.) на радиостанцию.
    *   *Логика по умолчанию*: Программа автоматически сканирует доступные порты. Приоритет отдается портам с именем "**Enhanced COM Port**" (обычно для драйверов Silicon Labs, используемых в радиостанциях Yaesu). Если такой порт не найден, по умолчанию выбирается первый доступный.
*   **Скорость (Baud)**: Устанавливает скорость связи.
    *   *По умолчанию*: **38400** бит/с. Убедитесь, что это значение совпадает с настройкой в меню вашей радиостанции (CAT RATE).

### Управление PTT (Push-To-Talk)
*   **PTT порт (PTT Port)**: Выбирает COM-порт, используемый для запуска передачи через сигнал RTS (Request to Send).
    *   *Логика по умолчанию*: Приоритет отдается портам с именем "**Standard COM Port**". Если у вас два порта (Enhanced и Standard), Standard порт обычно используется для PTT/CW манипуляции.
*   **Скорость (Baud)**: Устанавливает скорость для порта PTT (обычно менее критично, чем для CAT).
    *   *По умолчанию*: **38400** бит/с.

### Кнопки подключения
*   **Подключить (Connect)**: Открывает COM-порты и начинает опрос радиостанции.
*   **Отключить (Disconnect)**: Закрывает соединение и останавливает опрос.
*   **Полное чтение (Full Read)**: Принудительно выполняет полную синхронизацию всех настроек с радиостанции в интерфейс пользователя.
    *   *Примечание*: Программа автоматически планирует полное чтение после настройки параметров, но эта кнопка полезна, если интерфейс рассинхронизировался.

### Сервер Rigctl (Сетевое управление)
*   **rigctl TCP порт**: Номер порта для встроенного TCP-сервера, совместимого с Hamlib.
    *   *По умолчанию*: **4532**.
    *   *Использование*: Позволяет стороннему программному обеспечению (например, WSJT-X, N1MM или Log4OM) управлять радиостанцией *через* это приложение, подключаясь к `localhost:4532` с использованием модели "Hamlib NET rigctl" (Model ID 2).

---

## 2. Частота и режим (Левая панель)

### Отображение частоты
*   **Дисплей**: Показывает текущую частоту в Гц.

*  **Поразрядная настройка**: 
    1. Наведите курсор мыши на конкретную цифру, которую вы хотите изменить.
    2. **Колесо мыши**: Прокрутите вверх, чтобы увеличить значение, или вниз, чтобы уменьшить.
    3. **Кнопки со стрелками**: Нажимайте маленькие **стрелки вверх/вниз**, расположенные над и под каждой цифрой, для пошаговой настройки.

### Выбор режима
Сетка кнопок позволяет изменять режим работы.
*   **Активный режим**: Текущий выбранный режим подсвечивается **Зеленым**.
*   **Поддерживаемые режимы**:
    *   **Ряд 1**: USB, DATA-U, CW-U, RTTY-U, AM, FM, FM-N, C4FM-DN, PSK
    *   **Ряд 2**: LSB, DATA-L, CW-L, RTTY-L, AM-N, DATA-FM, DATA-FM-N, C4FM-VW

---

## 3. Управление передачей (Центральная панель)

### PTT (Push-To-Talk)
*   **Кнопка передачи (Transmit)**: Переключает состояние передачи радиостанции.
    *   **Белый**: Режим приема (RX).
    *   **Красный**: Режим передачи (TX).
    *   *Механизм*: Переключает сигнал RTS на выбранном **PTT порту**.

### Управление мощностью
*   **Мощность (W)**: Ползунок для регулировки выходной ВЧ мощности.
*   **Отображение значения**: Показывает целевую мощность в Ваттах.
*   **Индикатор типа устройства**: Отображает обнаруженный класс мощности радиостанции (например, "FIELD", "SPA1").
    *   **FIELD**: Диапазон 1–10 Вт.
    *   **SPA1**: Диапазон 5–100 Вт.
    *   **Standard**: Диапазон 1–100 Вт.

---

## 4. Предварительная обработка приема (Центральная панель)

Этот раздел управляет усилением приемника и настройками автоматической регулировки усиления (АРУ).

### AGC (Автоматическая регулировка усиления)
Управляет тем, как радиостанция обрабатывает изменяющуюся силу сигнала.
*   **Опции**: OFF (Выкл), FAST (Быстро), MID (Средне), SLOW (Медленно), AUTO (Авто).
*   **Логика отображения**:
    *   Если вы выберете **AUTO**, радиостанция определит наилучшую скорость на основе текущего режима (например, CW по умолчанию FAST, SSB по умолчанию SLOW).
    *   **Визуальный индикатор**: Если радиостанция находится в режиме AUTO и внутренне выбрала "MID", **обе** кнопки `AUTO` и `MID` будут подсвечены. Это позволяет вам знать, что вы в автоматическом режиме *и* какая текущая эффективная скорость.

### Предусилитель (Preamp)
Регулирует усиление входного каскада приемника для разных диапазонов.
*   **HF/50 МГц**:
    *   **IPO**: Оптимизация точки пересечения (Предусилитель ВЫКЛ). Лучше всего для условий сильного сигнала.
    *   **AMP1**: Предусилитель с низким усилением.
    *   **AMP2**: Предусилитель с высоким усилением.
*   **VHF / UHF**:
    *   **OFF / ON**: Переключает предусилитель для этих диапазонов.

---

## 5. Ручное управление Notch (Правая/Нижняя панель)

Эта расширенная панель позволяет визуализировать звук и вручную вырезать мешающие тона.

### Управление
*   **Включить Notch (Enable Notch)**: Флажок для активации ручного режекторного фильтра на радиостанции.
*   **Частота (Гц)**:
    *   **Поле ввода**: Введите конкретную частоту (10–3200 Гц) и нажмите **Установить (Set)**.
    *   **Текущее (Current)**: Отображает значение, активное в данный момент на радиостанции.
    *   **Читать (Read)**: Обновляет отображаемое значение из радиостанции.

### Аудио водопад / Спектр
*   **Входное устройство (Input Device)**: Выбирает источник звука для отображения водопада.
    *   *Логика по умолчанию*: Программа сканирует аудиоустройства и предпочитает то, которое содержит "**USB Audio Device**" в названии (типично для встроенных звуковых карт радиостанций).
*   **Дисплей водопада**: Показывает спектрограмму принимаемого звука в реальном времени.
    *   **Ось X**: Время (прокрутка истории).
    *   **Ось Y**: Аудио частота (0–4000 Гц).
*   **Взаимодействие**:
    *   **Нажмите для Notch**: Щелчок в любом месте водопада автоматически установит частоту ручного Notch на этот тон.
    *   **Визуальная обратная связь**: Две красные горизонтальные линии появляются на водопаде, указывая положение и ширину (прибл. 100 Гц) активного режекторного фильтра.

---

## 6. Метры (Нижняя панель)

Ряд полосовых индикаторов предоставляет телеметрию с радиостанции в реальном времени. Каждый метр имеет красную линию "порога", указывающую номинальное или предельное значение.

| Метр | Описание | Единица | Порог (Красная линия) |
| :--- | :--- | :--- | :--- |
| **S_MAIN** | Сила сигнала | S-Units / дБ | S9 |
| **COMP** | Уровень компрессии речи | дБ | 15 дБ |
| **ALC** | Напряжение АРУ | % | 100% |
| **PO** | Выходная мощность | Ватты | 10 Вт (варьируется) |
| **SWR** | КСВ (Коэффициент стоячей волны) | Отношение | 3.0 |
| **IDD** | Ток стока | Амперы | 2 А |
| **VDD** | Напряжение питания | Вольты | 13.8 В |

*   **Частота обновления**: Метры обновляются примерно раз в секунду (по умолчанию), чтобы минимизировать трафик шины CAT.

---

## 7. Устранение неполадок

*   **"Need CAT and PTT ports" (Нужны порты CAT и PTT)**: Вы должны выбрать COM-порт для обоих полей. Если у вас только один кабель, возможно, вам нужно выбрать один и тот же порт для обоих, или проверить, создает ли ваш драйвер два виртуальных порта (Standard и Enhanced).
*   **Метры не двигаются**: Убедитесь, что соединение активно (строка состояния говорит "Connected"). Проверьте, не занимает ли другая программа COM-порт.
*   **Водопад черный**: Убедитесь, что выбрано правильное **Входное устройство**. Оно должно соответствовать устройству "Line In" или "Microphone", связанному с USB-подключением вашей радиостанции.
*   **Rigctl не работает**: Убедитесь, что никакое другое программное обеспечение не использует порт 4532. Если вы изменили порт в интерфейсе, обновите ваш внешний логгер/программу для соответствия.


## 7. Аппаратные ограничения и калибровка

### Важное примечание для пользователей SPA-1 / Optima
Поскольку разработчик в настоящее время использует версию **FTX-1 Field** (автономная 10 Вт), система телеметрии специально настроена для маломощной портативной работы.

* **Точность PO (Выходная мощность)**: Шкала ватт и отклонение метра откалиброваны для внутреннего усилителя 10 Вт. Для пользователей 100 Вт метр может преждевременно достигать потолка или показывать неправильный масштаб.
* **Точность IDD (Ток стока)**: Метр IDD в настоящее время откалиброван для типичного потребления модуля Field (максимум около 2 А). Работа на 100 Вт требует значительно большего тока, который еще не точно отображен в этом интерфейсе.

---

## 8. Примечание о калибровке SPA-1 (100 Вт)

В настоящее время это программное обеспечение разрабатывается и тестируется с использованием версии **FTX-1 Field (10 Вт автономно)**. Поскольку у меня на столе нет усилителя **Optima SPA-1 (100 Вт)**, метры **Мощности (PO)** и **Тока (IDD)** еще не полностью откалиброваны для работы с высокой мощностью.

**Мне очень нужна ваша помощь!** Если вы используете установку Optima SPA-1, программное обеспечение может показывать неточные показания мощности и тока. Если вы хотите помочь мне улучшить это для всего сообщества, я буду невероятно признателен, если вы поделитесь несколькими фотографиями или коротким видео экрана вашей радиостанции, показывающим показания PO и IDD на разных уровнях мощности.

Ваши данные помогут мне точно настроить математику этих метров, чтобы они работали идеально для каждого владельца FTX-1. Не стесняйтесь обращаться через репозиторий проекта!

---
